<!DOCTYPE html>
<html>

<head>
	<title>Reminder</title>
	<link rel="icon" href="img/mistAI.png">
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.css" />

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
	<!--<link rel="stylesheet" type="text/css" href="jquery.datetimepicker.min.js">
	<script type="text/javascript" src="jquery.datetimepicker.min.js"></script>

	<script type="text/javascript" src="reminder.js"></script>-->

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
	<link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"
		integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.7.8/angular.min.js">
	</script>


	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.15.1/moment.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.7.14/js/bootstrap-datetimepicker.min.js">
	</script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
	<link rel="stylesheet"
		href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.7.14/css/bootstrap-datetimepicker.min.css">

	<style type="text/css">
		* {
			margin: 0px;
			padding: 0px;
		}

		body {
			margin: 0px;
			padding: 0px;
		}

		#clock {
			width: 100%;
		}

		.col01 {
			/*background-color: #00ff00;*/
			/*color: white;*/
			font-size: 20px;
			height: 100vh;
			padding: 20px;
			background-attachment: fixed;
		}

		.head01 {
			margin: 0px;
			padding: 0px;
		}

		.col02 {
			width: 100%;
			height: 100vh;
			padding: 0px;
			/*background-color: #10243D;*/
			/*background: linear-gradient(45deg, #ff0066, blue, violet, red);*/
			background-image: url('img/reminder_img/clk_clk.png');
			background-size: cover;
			background-position: center;
			background-attachment: fixed;
			/*overflow: scroll;
			display: flex;
			flex-direction: column;
			justify-content: center;
			align-items: center;
			position: relative;*/
		}

		.full {
			width: 100%;
			height: 93vh;
			background-attachment: fixed;
			display: flex;
			flex-direction: column;
			justify-content: center;
			align-items: center;
			position: relative;
		}

		/* .overlay {
			width: 100%;
			height: 100%;
			background-color: #ff0066;
			opacity: 0.5;
			position: absolute;
			background-attachment: fixed;
		} */

		.test {
			color: black;
			width: 90%;
			padding: 10px;
			background-color: rgba(255, 255, 255, 0.6);
			border-radius: 10px;
			z-index: 1;
			text-align: left;
			margin-bottom: 20px;
		}

		.test h1 {
			margin: 0px;
			padding: 0px;
		}

		#t01,
		#d01,
		#i01 {
			letter-spacing: 2px;
		}

		.menu {
			/*display: flex;
			flex-direction: column;
			justify-content: center;*/
			text-align: center;
			background-color: rgba(255, 0, 102, 0.9);
			width: 100%;
			height: 7vh;
			color: white;
			font-size: 30px;
			/*z-index: 1;*/
			position: relative;
			background-attachment: fixed;
		}

		.menu i {
			vertical-align: middle;
			cursor: pointer;
			/*z-index: 1;*/
		}

		.content {
			border-bottom-left-radius: 50px;
			border-bottom-right-radius: 50px;
			display: none;
			width: 100%;
			position: absolute;
			text-align: center;
			background-color: rgba(0, 0, 0, 0.9);
			z-index: 1;
		}

		.content a {
			font-size: 20px;
			padding: 10px;
			color: white;
			text-decoration: none;
			z-index: 1;
			display: block;
		}

		.content a:hover {
			background-color: #ff0066;
		}

		.minimize {
			padding-top: 20px;
			padding-bottom: 20px;
			font-size: 20px;
			color: white;
			z-index: 1;
			display: block;
			cursor: pointer;
		}

		.minimize:hover {
			color: #ff0066;
		}

		.trash:hover {
			cursor: pointer;
		}

		.p1:hover {
			cursor: pointer;
		}
	</style>
</head>

<body>

	<script type="text/javascript" src="js/reminder_js/radialIndicator.js"></script>
	<script type="text/javascript" src="js/reminder_js/angular.radialIndicator.js"></script>


	<div class="container-fluid">

		<div class="row">
			<div class="col01 col-sm-5">

				<h4 class="head01 animated"
					style="animation-duration: 5s; animation-delay: 2s; animation-iteration-count: infinite;">Reminder
				</h4>

				<center>
					<div id="clock"></div>
				</center>
				<form method="POST" action="/setReminder">
					<div class="form-group">
						<label for="title">Title<span style="color: red;">*</span>:</label>
						<input type="text" class="form-control" id="i01" placeholder="Enter title here" name="title"
							required>
					</div>

					<div class="form-group">
						<label for="des">Description:</label>
						<textarea class="form-control" rows="5" id="d01" placeholder="Enter description here"
							name="desc" required></textarea>
					</div>

					<label for="time">Time<span style="color: red;">*</span>:</label>
					<div class="form-group">
						<div class='input-group date' id='datetimepicker1'>
							<input type='text' id="t01" class="form-control" placeholder="Select time here" name="time"
								required>
							<span class="input-group-addon">
								<span class="glyphicon glyphicon-calendar"></span>
							</span>
						</div>
					</div>

					<center>


						<button type="submit" class="btn animated heartBeat"
							style="color: white; background-color: #ff0066; animation-duration: 3s; animation-delay: 2s; animation-iteration-count: infinite;">Set
							Reminder</button>
					</center>
				</form>

			</div>



			<div class="col02 col-sm-7">

				<div class="content">

					<a href="https://mist-ai.herokuapp.com/">Voice Assistant</a>
					<a href="">Study Planner</a>
					<a href="">Weather</a>
					<a href="">CGPA</a>
					<a href="">Attendance</a>
					<a href="">Motivation</a>
					<a href="">Notice</a>
					<i class="minimize fa fa-times" aria-hidden="true"></i>

				</div>

				<div class="menu">
					<i class="mn01 fa fa-bars" aria-hidden="true"></i>
				</div>

				<div class="full">
					<!--<div class="test">
				    	<h1 style="float: left; font-size: 30px;">
				    		<img style="width: 35px; height: 35px;" src="img/title01.png">
				    		<span id="s01"></span>
				    	</h1>

				    	<h4 style="float: right;">
				    		<img style="width: 20px; height: 20px;" src="img/t02.png">
				    		<span id="s02"></span>
				    	</h4>

				    	<h5 style="margin: 0px; padding: 0px; margin-top: 50px; overflow: hidden;">
				    		<span id="s03"></span>
				    	</h5>
				    </div>-->
					<!-- <div class="overlay"></div> -->

					<div class="row" id="alarmOptions" style="display: none;">
						<button onclick="snooze();">Snooze 5 minutes</button>
						<button onclick="stopAlarm();"><i class="fa fa-stop-circle" aria-hidden="true"></i></button>
					</div>
				</div>

			</div>
		</div>

	</div>

	<script type="text/javascript" src="js/reminder.js"></script>

	<script src="https://code.responsivevoice.org/responsivevoice.js?key=cqTky6bB"></script>

	<script type="text/javascript">
		$(function () {
			$('.btn').on('click', function () {

				var content1 = $('#i01').val();
				var content2 = $('#t01').val();
				var content3 = $('#d01').val();

				setAlarm(new Date(content2), content1);

				$('.full').append(
					'<div class="test animated fadeIn"><h1 style="font-size: 20px; float: left;"><img style="width: 25px; height: 25px;" src="img/reminder_img/title01.png"><span id="s01">' +
					content1 +
					'</span></h1><h4 style="margin: 0px; float: right; font-size: 13px;"><img style="width: 15px; height: 15px;" src="img/reminder_img/t02.png"><span id="s02">' +
					content2 +
					'</span><i class="trash fa fa-trash-o" aria-hidden="true" style="margin-left: 20px; font-size: 20px;"></i></h4><h5 style="margin: 0px; padding: 0px; margin-top: 50px; overflow: hidden;"><span id="s03">' +
					content3 + '</span></h5>');
			});
		});

		var alarmSound = new Audio();
		alarmSound.src = 'on.mp3';

		function setAlarm(targetDate, alarmTitle) {
			if (targetDate.getTime() <= new Date().getTime()) {
				//alarmSound.play();
				var reply = "It's time for " + alarmTitle;
				talkback(reply);
				/*$('.test').append('<center><i onclick="stopAlarm();" class="p1 fa fa-stop-circle" aria-hidden="true" style="font-size: 15px;"></i></center>');*/
				//alert("Life is over!!");
				return;
			}

			window.setTimeout(arguments.callee, 1000, targetDate, alarmTitle); // tick every second
		}

		function talkback(replyText) {
			// synthVoiceFirst(replyText);
			responsiveVoice.speak(replyText, "UK English Female");
		}

		function stopAlarm() {
			alarmSound.pause();
			/*alarmSound.currentTime = 0;
			document.getElementById('alarmOptions').style.display = 'none';
			cancelAlarm(document.getElementById('btn'));*/
		}


		$(function () {
			$('.mn01').on('click', function () {
				$('.test').css({
					'z-index': '0'
				});
				$('.content').slideDown(1000);
			});
		});

		$(function () {
			$('.minimize').on('click', function () {
				$('.content').slideUp(1000);
				$('.test').css({
					'z-index': '1',
					'transition': '2s'
				});
			});
		});

		$(function () {
			$('#datetimepicker1').datetimepicker();
		});

		var radialObj = radialIndicator('#clock', {
			radius: 90,
			barWidth: 15,
			barColor: '#ff0066',
			minValue: 0,
			maxValue: 60,
			fontWeight: 'normal',
			/*roundCorner: true,*/
			format: function (value) {
				var date = new Date();
				return date.getHours() + ':' + date.getMinutes();
			}
		});

		setInterval(function () {
			radialObj.value(new Date().getSeconds() + 1);
		}, 1000);
	</script>

</body>

</html>